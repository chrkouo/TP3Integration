{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\1834343\\\\Downloads\\\\TP3\\\\tpfinal_backend-frontend\\\\frontend\\\\frontend_tpfinal\\\\src\\\\Places\\\\Main\\\\MainPage.js\",\n    _s = $RefreshSig$();\n\nimport * as React from \"react\";\nimport AppBar from \"@mui/material/AppBar\";\nimport Box from \"@mui/material/Box\";\nimport Toolbar from \"@mui/material/Toolbar\";\nimport Typography from \"@mui/material/Typography\";\nimport Button from \"@mui/material/Button\";\nimport Drawer from \"@mui/material/Drawer\";\nimport List from \"@mui/material/List\";\nimport Divider from \"@mui/material/Divider\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport AddIcon from \"@mui/icons-material/Add\";\nimport PlaylistAddCheckIcon from \"@mui/icons-material/PlaylistAddCheck\";\nimport { useEffect } from \"react\";\nimport { useAuthState } from \"react-firebase-hooks/auth\";\nimport { useState } from \"react\";\nimport { auth, db, logout } from \"../../firebase.js\";\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\nimport Quests from \"./Quests\";\nimport AddQuests from \"./AddQuests\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainPage = () => {\n  _s();\n\n  const [user, loading] = useAuthState(auth);\n  const [name, setName] = useState(\"\");\n  const navigate = useNavigate();\n\n  const fetchUserName = async () => {\n    try {\n      const q = query(collection(db, \"adventurerDB\"), where(\"uid\", \"==\", user === null || user === void 0 ? void 0 : user.uid));\n      const doc = await getDocs(q);\n      const data = doc.docs[0].data();\n      setName(data.name);\n    } catch (err) {\n      console.error(err);\n      alert(\"An error occured while fetching user data\");\n    }\n  };\n\n  useEffect(() => {\n    if (loading) return;\n    if (!user) return navigate(\"/\");\n    fetchUserName();\n  }, [user, loading]); // const [level, setLevel] = useState(0);\n  // let oneLevel = Math.floor(level/100);\n  // const navigate = useNavigate();\n  // const f = async () => {\n  //   try {\n  //     const result = await axios({\n  //       method: \"get\",\n  //       url: \"http://localhost:3001/me\",\n  //       headers: {\n  //         Authorization: \"BEARER \" + token,\n  //       },\n  //     });\n  //     console.log(result.data)\n  //     setLevel(result.data.xp);\n  //   } catch (e) {\n  //     console.log(e);\n  //   }\n  // };\n  // f();\n\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      display: \"flex\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"fixed\",\n      sx: {\n        width: `calc(100% - ${250}px)`,\n        ml: `${250}px`\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          component: \"div\",\n          sx: {\n            flexGrow: 1\n          },\n          children: \"Main Page\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          children: \"Level : 2 \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          onClick: logout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Drawer, {\n      sx: {\n        width: 250,\n        flexShrink: 0,\n        \"& .MuiDrawer-paper\": {\n          width: 250,\n          boxSizing: \"border-box\"\n        }\n      },\n      variant: \"permanent\",\n      anchor: \"left\",\n      children: [/*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        children: [/*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          onClick: () => navigate(\"addQuests\"),\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"AddQuests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)]\n        }, \"AddQuests\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ListItem, {\n          button: true,\n          onClick: () => navigate(\"quests\"),\n          children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n            children: /*#__PURE__*/_jsxDEV(PlaylistAddCheckIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n            primary: \"Quests\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, \"Quests\", true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"main\",\n      sx: {\n        flexGrow: 1,\n        p: 3,\n        marginTop: \"64px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/addQuests\",\n          element: /*#__PURE__*/_jsxDEV(AddQuests, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/quests/*\",\n          element: /*#__PURE__*/_jsxDEV(Quests, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainPage, \"uHtu+JpsKeHotK3G0gTUv9nE+Yk=\", false, function () {\n  return [useAuthState, useNavigate];\n});\n\n_c = MainPage;\nexport default MainPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"sources":["C:/Users/1834343/Downloads/TP3/tpfinal_backend-frontend/frontend/frontend_tpfinal/src/Places/Main/MainPage.js"],"names":["React","AppBar","Box","Toolbar","Typography","Button","Drawer","List","Divider","ListItem","ListItemIcon","ListItemText","AddIcon","PlaylistAddCheckIcon","useEffect","useAuthState","useState","auth","db","logout","query","collection","getDocs","where","Routes","Route","useNavigate","Quests","AddQuests","MainPage","user","loading","name","setName","navigate","fetchUserName","q","uid","doc","data","docs","err","console","error","alert","display","width","ml","flexGrow","flexShrink","boxSizing","p","marginTop"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport AppBar from \"@mui/material/AppBar\";\r\nimport Box from \"@mui/material/Box\";\r\nimport Toolbar from \"@mui/material/Toolbar\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport Button from \"@mui/material/Button\";\r\nimport Drawer from \"@mui/material/Drawer\";\r\nimport List from \"@mui/material/List\";\r\nimport Divider from \"@mui/material/Divider\";\r\nimport ListItem from \"@mui/material/ListItem\";\r\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\r\nimport ListItemText from \"@mui/material/ListItemText\";\r\nimport AddIcon from \"@mui/icons-material/Add\";\r\nimport PlaylistAddCheckIcon from \"@mui/icons-material/PlaylistAddCheck\";\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useState } from \"react\";\r\nimport { auth, db, logout } from \"../../firebase.js\";\r\nimport { query, collection, getDocs, where } from \"firebase/firestore\";\r\n\r\nimport { Routes, Route, useNavigate } from \"react-router-dom\";\r\nimport Quests from \"./Quests\";\r\nimport AddQuests from \"./AddQuests\";\r\n\r\nconst MainPage = () => {\r\n  const [user, loading] = useAuthState(auth);\r\n  const [name, setName] = useState(\"\");\r\n  const navigate = useNavigate();\r\n\r\n  const fetchUserName = async () => {\r\n    try {\r\n      const q = query(collection(db, \"adventurerDB\"), where(\"uid\", \"==\", user?.uid));\r\n      const doc = await getDocs(q);\r\n      const data = doc.docs[0].data();\r\n      setName(data.name);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"An error occured while fetching user data\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (loading) return;\r\n    if (!user) return navigate(\"/\");\r\n\r\n    fetchUserName();\r\n  }, [user, loading]);\r\n\r\n  // const [level, setLevel] = useState(0);\r\n  // let oneLevel = Math.floor(level/100);\r\n  // const navigate = useNavigate();\r\n  // const f = async () => {\r\n  //   try {\r\n  //     const result = await axios({\r\n  //       method: \"get\",\r\n  //       url: \"http://localhost:3001/me\",\r\n  //       headers: {\r\n  //         Authorization: \"BEARER \" + token,\r\n  //       },\r\n  //     });\r\n  //     console.log(result.data)\r\n  //     setLevel(result.data.xp);\r\n  //   } catch (e) {\r\n  //     console.log(e);\r\n  //   }\r\n  // };\r\n  // f();\r\n  return (\r\n    <Box sx={{ display: \"flex\" }}>\r\n      <AppBar\r\n        position=\"fixed\"\r\n        sx={{ width: `calc(100% - ${250}px)`, ml: `${250}px` }}\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\r\n            Main Page\r\n          </Typography>\r\n          <Button color=\"inherit\">Level : 2 </Button>\r\n          <Button color=\"inherit\" onClick={logout}>Logout</Button>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        sx={{\r\n          width: 250,\r\n          flexShrink: 0,\r\n          \"& .MuiDrawer-paper\": {\r\n            width: 250,\r\n            boxSizing: \"border-box\",\r\n          },\r\n        }}\r\n        variant=\"permanent\"\r\n        anchor=\"left\"\r\n      >\r\n        <Toolbar />\r\n        <Divider />\r\n        <List>\r\n          <ListItem\r\n            button\r\n            key={\"AddQuests\"}\r\n            onClick={() => navigate(\"addQuests\")}\r\n          >\r\n            <ListItemIcon>\r\n              <AddIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary={\"AddQuests\"} />\r\n          </ListItem>\r\n          <ListItem button key={\"Quests\"} onClick={() => navigate(\"quests\")}>\r\n            <ListItemIcon>\r\n              <PlaylistAddCheckIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary={\"Quests\"} />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n      <Box component=\"main\" sx={{ flexGrow: 1, p: 3, marginTop: \"64px\" }}>\r\n        <Routes>\r\n          <Route path=\"/addQuests\" element={<AddQuests />} />\r\n          <Route path=\"/quests/*\" element={<Quests />} />\r\n        </Routes>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\nexport default MainPage;\r\n"]},"metadata":{},"sourceType":"module"}